services:
  gm:
    image: ${REGISTRY}/${IMAGE_NAME}:latest
    container_name: gm
    restart: unless-stopped

    ports:
      - "${PORT}:${PORT}"

    environment:
      POSTGRES_SERVER=${POSTGRES_SERVER}
      POSTGRES_USER=${POSTGRES_USER}
      POSTGRES_PASSWORD=${POSTGRES_PASSWORD}
      POSTGRES_DB=${POSTGRES_DB}
      STATE_SERVICE_URL=${STATE_SERVICE_URL}
      SCENARIO_SERVICE_URL=${SCENARIO_SERVICE_URL}
      RULE_SERVICE_URL=${RULE_SERVICE_URL}
      LLM_GATEWAY_URL=${LLM_GATEWAY_URL}

    networks:
      - platform-net

networks:
  platform-net:
    external: true
